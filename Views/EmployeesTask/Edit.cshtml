@*  @model DemoWeb.Models.EmployeeTask

 @{
     ViewData["Title"] = "Edit Assign Task Details";
 }
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
 <script>
     $(document).ready(function () {

         function getUrl(action, controller) {
             const baseUrl = window.location.origin; // Get the base URL (e.g., http://localhost:7278)
             return `${baseUrl}/${controller}/${action}`;
         }


         $("form").on("submit", function (e) {
             e.preventDefault(); // Prevent default form submission



             // Get anti-forgery token
             var token = $("input[name='__RequestVerificationToken']").val();

             // Collect form data, including the RequestVerificationToken
             const data = {
                 _RequestVerificationToken: token,
                 EmployeeId: $('#EmployeeName').val(),
                 TaskId: $('#TaskId').val(),
                 TaskObjectives: $('#TaskObjectives').val(),
                 TaskStatus: $('#@Model.Task.TaskStatus').val(),

             };

             console.log({ data });

             // Send AJAX request
             $.ajax({
                 type: 'POST',
                 url: getUrl('Edit', 'EmployeesTask'), // Use getUrl function for dynamic URL building
                 data: data,

                 headers: {
                     'RequestVerificationToken': token // Add the token in headers
                 }
             })
                 .done((data) => {
                     console.log({ data });
                 })
                 .fail((err) => {
                     console.error(err);
                 })
                 .always(() => {
                     console.log('always called');
                 });
         });
     });
 </script>
 <h1>Edit Assign Task Details</h1>

 <hr />
 <div class="row">
     <div class="col-md-4">
         <form asp-action="Edit" asp-controller="employeesTask">
             <div asp-validation-summary="ModelOnly" class="text-danger"></div>
             <input type="hidden" asp-for="EmployeeTaskId" />
             <div class="form-group">
                 <label asp-for="@Model.Employee.EmployeeName" class="control-label"></label>
                 <input asp-for="@Model.Employee.EmployeeName" class="form-control" readonly />
                 <span asp-validation-for="@Model.Employee.EmployeeName" class="text-danger"></span>
             </div>
             <div class="form-group">
                 <label asp-for="@Model.Employee.EmployeeEmail" class="control-label" ></label>
                 <input asp-for="@Model.Employee.EmployeeEmail" class="form-control" readonly />
                 <span asp-validation-for="@Model.Employee.EmployeeEmail" class="text-danger"></span>
             </div>
             <div class="form-group">
                 <label asp-for="@Model.Task.TaskName" class="control-label"></label>
                 <input asp-for="@Model.Task.TaskName" class="form-control" />
                 <span asp-validation-for="@Model.Task.TaskName" class="text-danger"></span>
             </div>
             <div class="form-group">
                 <label asp-for="@Model.Task.TaskStatus" class="control-label"></label>
                 <select asp-for="@Model.Task.TaskStatus" asp-items="Model.Task.StatusList" class="form-control">
                     <option value="">Select Task Status</option>
                 </select>
                 <span asp-validation-for="@Model.Task.TaskStatus" class="text-danger"></span>
             </div>
             <div class="form-group">
                 <label asp-for="TaskObjectives" class="control-label"></label>
                 <input asp-for="TaskObjectives" class="form-control" />
                 <span asp-validation-for="TaskObjectives" class="text-danger"></span>
             </div>
         
              <div class="form-group">
                 <label asp-for="@Model.Employee.EmployeeRole" class="control-label" hidden></label>
                 <input asp-for="@Model.Employee.EmployeeRole" class="form-control" hidden />
                 <span asp-validation-for="@Model.Employee.EmployeeRole" class="text-danger"></span>
             </div>
              <div class="form-group">
                 <label asp-for="@Model.Employee.EmployeeJoinedDate" class="control-label" hidden></label>
                 <input asp-for="@Model.Employee.EmployeeJoinedDate" class="form-control" hidden />
                 <span asp-validation-for="@Model.Employee.EmployeeJoinedDate" class="text-danger"></span>
             </div>
             <div class="form-group">
                 <label asp-for="@Model.Employee.EmployeeAddress" class="control-label" hidden></label>
                 <input asp-for="@Model.Employee.EmployeeAddress" class="form-control" hidden />
                 <span asp-validation-for="@Model.Employee.EmployeeAddress" class="text-danger"></span>
             </div>
            
             <div class="form-group">
                 <input type="submit" value="Save" class="btn btn-primary" />
             </div>
         </form>
     </div>
 </div>

<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <form asp-action="Create" class="bg-white p-4 border rounded shadow">
                @Html.AntiForgeryToken()
                <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>
                <input type="hidden" asp-for="EmployeeTaskId" />
              


                <!-- Employee Address -->
                <div class="form-group mb-3">
                    <label asp-for="EmployeeAddress" class="form-label"></label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fa fa-map-marker"></i></span>
                        <input asp-for="EmployeeAddress" class="form-control" />
                    </div>
                    <span asp-validation-for="EmployeeAddress" class="text-danger"></span>
                </div>

                <!-- Employee Email -->
                <div class="form-group mb-3">
                    <label asp-for="EmployeeEmail" class="form-label"></label>
                    <div class="input-group">
                        <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                        <input asp-for="EmployeeEmail" class="form-control" />
                    </div>
                    <span asp-validation-for="EmployeeEmail" class="text-danger"></span>
                </div>

                <!-- Employee Position -->
                <div class="form-group mb-3">
                    <label asp-for="EmployeePosition" class="form-label"></label>
                    <select asp-for="EmployeePosition" asp-items="Model.PositionList" class="form-select">
                        <option value="">Select Position</option>
                    </select>
                    <span asp-validation-for="EmployeePosition" class="text-danger"></span>
                </div>

                <!-- Submit Button -->
                <div class="d-grid">
                    <input type="button" id="btnEdit" value="Edit" class="btn btn-primary" />
                </div>
            </form>
        </div>
    </div>
</div>

 *@